<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#ffffff">
    <title>Ruota della Fortuna - alex.io</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>

    <div id="app-loader" class="loader-overlay">
        <div class="loader-content">
            <div class="loader-ring">
                <img src="img/logo.png" onerror="this.src='https://source.unsplash.com/random/100x100?tech,code'" class="loader-logo" alt="Logo">
            </div>
            <div class="loader-text">ALEX.IO</div>
        </div>
    </div>

    <div id="search-overlay" class="search-overlay hidden">
        <button class="close-search" id="close-search-btn">
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
        <div class="search-container">
            <div class="search-header">
                <div class="search-input-wrapper">
                    <input type="text" id="global-search-input" placeholder="Cerca...">
                </div>
            </div>
            <div class="search-results" id="search-results-container">
                <div class="empty-state">
                    <p>Inizia a scrivere per cercare...</p>
                </div>
            </div>
        </div>
    </div>

    <main id="app" style="padding-top: 90px; padding-bottom: 180px;">
        
        <!-- UNIFIED HEADER -->
        <header class="unified-header">
            <h1 class="unified-header-title">RUOTA</h1>
        </header>

        <div class="wheel-wrapper">
            <div class="wheel-container">
                <canvas id="wheelCanvas" width="600" height="600"></canvas>
                
                <div class="wheel-pointer"></div>
                
                <div class="spin-indicator">GIRA</div>
            </div>
        </div>

        <div class="wheel-controls">
            <div class="controls-header">
                <h3>Partecipanti <span id="entries-count" style="background:#1a1a1a; color:#fff; padding:2px 8px; border-radius:12px; font-size:0.8rem;">0</span></h3>
                <button id="shuffle-btn" class="small-btn" style="border:none; background:#f0f0f0; padding:5px 10px; border-radius:8px; font-size:0.8rem; font-weight:600;">ðŸ”€ Shuffle</button>
            </div>
            
            <textarea id="names-input" placeholder="Scrivi i nomi qui (uno per riga)..." rows="4"></textarea>
            
            <div class="action-buttons">
                <button id="clear-btn" class="secondary-btn" style="width:100%; padding:12px; border-radius:12px; background:#f5f5f5; border:none; font-weight:600; color:#666;">Pulisci tutto</button>
            </div>
        </div>
    </main>

    <div id="winner-modal" class="winner-overlay hidden">
        <div class="winner-card">
            <div class="winner-header">
                <h3>Vincitore!</h3>
                <button class="close-winner" id="close-winner-x">&times;</button>
            </div>
            
            <div class="winner-body">
                <div class="winner-name" id="winner-name-display">Nome</div>
                
                <div class="winner-actions">
                    <button id="modal-remove-btn">Rimuovi</button>
                    <button id="modal-close-btn">Chiudi</button>
                </div>
            </div>
            
            <canvas id="confetti-canvas" style="position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:-1;"></canvas>
        </div>
    </div>

    <nav class="tab-bar">
        <a href="index.html" class="tab-item" data-id="home">
            <div class="icon-box">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
            </div>
            <span class="tab-label">Home</span>
        </a>

        <a href="giochi.html" class="tab-item" data-id="games">
            <div class="icon-box">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="6" width="20" height="12" rx="2"></rect><path d="M6 12h4m-2-2v4m10-2h.01"></path></svg>
            </div>
            <span class="tab-label">Giochi</span>
        </a>

        <a href="#" class="tab-item active" data-id="ruota">
            <div class="icon-box">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle><line x1="12" y1="2" x2="12" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg>
            </div>
            <span class="tab-label">Ruota</span>
        </a>

        <a href="settings.html" class="tab-item" data-id="settings">
            <div class="icon-box">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
            </div>
            <span class="tab-label">Settings</span>
        </a>
    </nav>
    
    <script src="js/app.js"></script>
    <script src="js/ruota.js"></script>
</body>
</html>
